version: '3'
services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.frontend
    env_file: 
      - .env
    environment:
      - NGINX_HOST_PORT = ${NGINX_HOST_PORT}
      - NGINX_CONTAINER_PORT = ${NGINX_CONTAINER_PORT}
    ports:
      - "${NGINX_HOST_PORT}:${NGINX_CONTAINER_PORT}"

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile.backend
    
    #Allows the container to keep running and allows its logs (log-output) to be shown on the console.
    tty: true
    stdin_open: true
